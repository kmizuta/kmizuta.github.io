<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_35) on Sat Mar 14 10:11:15 PDT 2015 -->
<TITLE>
ConnectionPoolManager (Oracle Fusion Middleware Java API Reference for Oracle ADF Model)
</TITLE>

<META NAME="date" CONTENT="2015-03-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ConnectionPoolManager (Oracle Fusion Middleware Java API Reference for Oracle ADF Model)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle Fusion Middleware Java API Reference for Oracle ADF Model<br>11g Release 1 (11.1.1.9.0)</b><br>E52932-01</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../oracle/jbo/server/ConnectionCredentials.html" title="class in oracle.jbo.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../oracle/jbo/server/ConnectionPoolManagerFactory.html" title="class in oracle.jbo.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?oracle/jbo/server/ConnectionPoolManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConnectionPoolManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
oracle.jbo.server</FONT>
<BR>
Interface ConnectionPoolManager</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManagerImpl.html" title="class in oracle.jbo.server">ConnectionPoolManagerImpl</A>, <A HREF="../../../oracle/jbo/server/OCIConnectionPoolManagerImpl.html" title="class in oracle.jbo.server">OCIConnectionPoolManagerImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>ConnectionPoolManager</B></DL>
</PRE>

<P>
Declares <tt>ConnectionPoolManager</tt> operations.  If JDBC connection pooling has
 been enabled, the <tt>ConnectionPoolManager</tt> is invoked by the
 <A HREF="../../../oracle/jbo/server/DBTransaction.html" title="interface in oracle.jbo.server"><CODE>DBTransaction</CODE></A> class to create and release
 cached
 JDBC connection instances.
 <p>
 The connection pool manager is enabled when the
 client invokes the application module instance
 <em>amInstance</em><tt>.getTransaction().connect()</tt>,
 and is disabled with <em>amInstance</em><tt>.getTransaction().disconnect()</tt>.
 No other coding is required to use JDBC connection pooling with Business
 Components for Java 3.2, other than set the <tt>MaxPoolSize</tt> or
 <tt>InitPoolSize</tt> parameters, if you wish.
 <p>
 In contrast, if you have created a custom DBTransaction you will have to
 implement additional logic in that class to use the JDBC connection pool.
 <p>
 It is only necessary to create a custom connection pool if you already have
 your own JDBC connection pooling implementation that you would like to use
 with Business Components for Java. You should invoke code
 that follows the pattern in the samples below to use the connection
 pool. For example, this is what the Business Components for Java
 implementation of
 <A HREF="../../../oracle/jbo/server/DBTransactionImpl.html" title="class in oracle.jbo.server"><CODE>DBTransactionImpl</CODE></A> performs to
 use the pool:
 <p>
 <h4>Checking out a connection:</h4>
 <p>
 <pre>
    // Get a connection pool manager instance
    // from the connection pool manager factory
       ConnectionPoolManager connectionPoolManager =
       ConnectionPoolManagerFactory.getConnectionPoolManager();

    // Generate a unique signature for the pool.  Assume
    // that the JDBC URL, JDBC user, and JDBC password were
    // all specified as separate properties.  Note that
    // the connection pool key is stored as member variable
    // for later use.
    mConnectionPoolKey = connectionPoolManager
       .generatePoolKey(jdbcURL, jdbcUser, jdbcPassword);

    // Get a connection from the pool for the key that
    // was generated above.  The URL, user, and password
    // passed in case a connection is not available and a
    // new connection must be generated.
    Connection conn = connectionPoolManager.getConnection(
       connectionPoolKey
       , jdbcURL
       , null
       , jdbcUser
       , jdbcPassword);
 </pre>
 <p>
 <h4>Checking in a connection:</h4>
 <p>
 <pre>
    // Get a connection pool manager instance
    // from the connection pool manager factory
     ConnectionPoolManager connectionPoolManager =
       ConnectionPoolManagerFactory.getConnectionPoolManager();

    // Return the connection to the connection pool.  The target
    // connection pool is identified with the connection pool key
    // that was generated while checking out a connection above.
    // The jdbcConn
     connectionPoolManager.returnConnection(
       mConnectionPoolKey
       , mjdbcConnection);
 </pre>
 <p>
 The following guideline should be followed when implementing a custom
 <tt>ConnectionPoolManager</tt>:
 <p><blockquote>
 The connection pool manager should be able to support multiple database
 instance, user, and password combinations. For more information, see
 <A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey</CODE></A>.</p>
 </blockquote>
 <p>
 As an example, here is the implementation of the default connection pool
 manager:
 <tt>
   public class ConnectionPoolManagerImpl
      extends ResourcePoolManager implements ConnectionPoolManager {
   
      private int       mInitPoolSize         = 0;
      private int       mMaxPoolSize          = 2147483647;

      public ConnectionPoolManagerImpl()
      {
         init();
      }

      private void init()
      {
         mInitPoolSize = JboEnvUtil.getPropertyAsInt(
            PropertyMetadata.ENV_INIT_JDBC_POOL_SIZE.pName
            , (new Integer(PropertyMetadata.ENV_INIT_JDBC_POOL_SIZE.pDefault))
               .intValue());
   
         mMaxPoolSize = JboEnvUtil.getPropertyAsInt(
            PropertyMetadata.ENV_MAX_JDBC_POOL_SIZE.pName
            , (new Integer(PropertyMetadata.ENV_MAX_JDBC_POOL_SIZE.pDefault))
               .intValue());
      }
   
      public Connection getConnection(
         String poolKey
         , String url
         , Properties info
         , String user
         , String password)
      {
         return getConnectionPool(poolKey).getConnection(
            url
            , info
            , user
            , password);
      }
   
     public Connection getConnectionForInternalUse(
         String connectionPoolKey
         , String url
         , Properties info
         , String user
         , String password)
      {
         return getConnection(connectionPoolKey, url, info, user, password);
      }
   
      public void addConnection(String poolKey, Connection connection)
      {
         getConnectionPool(poolKey).addConnection(connection);
      }
   
      public void returnConnection(String poolKey, Connection connection)
      {
         returnConnection(poolKey, connection, null);
      }
   
      public void returnConnection(
         String poolKey, Connection connection, Properties info)
      {
         getConnectionPool(poolKey).returnConnection(connection);
      }
   
      public void returnConnectionForInternalUse(
         String poolKey, Connection connection, Properties info)
      {
         returnConnection(poolKey, connection, info);
      }
   
      public void removeConnection(String poolKey, Connection connection)
      {
         getConnectionPool(poolKey).removeConnection(connection);
      }
   
      public String generatePoolKey(String url, Properties info)
      {
         String poolKey = url;
   
         String user = null;
         String password = null;
         if ((info != null)
            && ((user = (String)info.get(ConnectionCredentials.USER)) != null)
            && ((password = (String)info.get(ConnectionCredentials.PASSWORD)) 
               != null))
         {
            poolKey = generatePoolKey(url, user, password);
         }
   
         return poolKey;
      }
   
      public String generatePoolKey(String url, String user, String password)
      {
         String poolKey = url;
   
         if ((user != null) && (password != null))
         {
            poolKey = (new StringBuffer(128))
               .append(poolKey)
               .append(":")
               .append(user)
               .append("/")
               .append(password).toString();
         }
   
         return poolKey;
      }
   
      public int getInitPoolSize()
      {
         return mInitPoolSize;
      }
   
      public int getMaxPoolSize()
      {
         return mMaxPoolSize;
      }
   
      protected int getMonitorSleepInterval()
      {
         return JboEnvUtil.getPropertyAsInt(
            PropertyMetadata.ENV_JDBC_POOL_MONITOR_SLEEP_INTERVAL.pName
            , Integer.valueOf(
               PropertyMetadata.ENV_JDBC_POOL_MONITOR_SLEEP_INTERVAL.pDefault)
            .intValue());
      }
   
      private ConnectionPool getConnectionPool(String poolKey)
      {
         ConnectionPool connectionPool = null;
         synchronized (mLock)
         {
            connectionPool = (ConnectionPool)getResourcePool(poolKey);
   
            if (connectionPool == null)
            {
               connectionPool = new ConnectionPool(poolKey, this);
               addResourcePool(poolKey, connectionPool);
            }
         }
   
         return connectionPool;
      }
   
   }
 </tt>
 which will be loaded if a custom connection pool manager is not specified.
 <p>
 <h4>Declaring the custom connection pool manager to the VM</h4>
 If you are using a custom connection pool manager, you must declare it,
 either in the <tt>jboserver.properties</tt> file or as a JVM parameter:
 For example, to declare the default connection pool manager as a JVM
 parameter, enter:
 <p>
 <tt>java -Djbo.ConnectionPoolManager=oracle.jbo.server.ConnectionPoolManagerImpl</tt>
 <p>
 The synonymous command in the <tt>jboserver.properties</tt> file would be:
 <p>
 <tt>jbo.ConnectionPoolManager=oracle.jbo.server.ConnectionPoolManagerImpl</tt>
 <p>
 <h2>About Connection Pooling</h2>
 In version 3.2 of Business Components for Java, connection pooling is
 the new default behavior. Instead of one JDBC connection being created for
 each application module instance, and being destroyed when the instance
 disconnects, application modules can now reuse a pool of connections.
 One connection pool is assigned for each connection URL.
 <p>
 <h3>How connections are assigned, created, and released</h3>
 The framework provides a connection pool manager to manage the pool. When
 a database connection is needed by a top-level application module instance,
 the following sequence of events occurs:
 <p>
 <ol>
    <li>The application module instance asks the connection pool manager
       for a connection, as specified in the JDBC connection URL.</li>
     <p>
    <li>The connection pool manager looks for an available connection in
        the pool. If there isn't one, it creates one, up to the maximum
        allowable connections (MaxPoolSize). If it can't create a connection,
        it waits for one (there is no timeout).</li>
    <p>
    <li>When the application module instance disconnects, it goes back to
        the pool. </li>
 </ol>
 <p>
 There is one connection pool manager for each business logic tier's Java
 VM. Connections remain in the pool until the Java VM stops running.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManagerFactory.html" title="class in oracle.jbo.server"><CODE>ConnectionPoolManagerFactory</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#addConnection(java.lang.String, java.sql.Connection)">addConnection</A></B>(java.lang.String&nbsp;poolKey,
              java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a connection to a connection pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)">generatePoolKey</A></B>(java.lang.String&nbsp;url,
                java.util.Properties&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a unique pool identifier (<tt>poolKey</tt>) for the specified JDBC URL and
 JDBC driver properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.lang.String, java.lang.String)">generatePoolKey</A></B>(java.lang.String&nbsp;url,
                java.lang.String&nbsp;user,
                java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a unique pool identifier (<tt>poolKey</tt>) for the specified JDBC URL and
 JDBC driver properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#getConnection(java.lang.String, java.lang.String, java.util.Properties, java.lang.String, java.lang.String)">getConnection</A></B>(java.lang.String&nbsp;connectionPoolKey,
              java.lang.String&nbsp;url,
              java.util.Properties&nbsp;info,
              java.lang.String&nbsp;user,
              java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a pooled connection from the specified target pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#getConnectionForInternalUse(java.lang.String, java.lang.String, java.util.Properties, java.lang.String, java.lang.String)">getConnectionForInternalUse</A></B>(java.lang.String&nbsp;connectionPoolKey,
                            java.lang.String&nbsp;url,
                            java.util.Properties&nbsp;info,
                            java.lang.String&nbsp;user,
                            java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a pooled connection from the specified target pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#getInitPoolSize()">getInitPoolSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the initial pool size for connection pools that are managed
 by this connection pool manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#getMaxPoolSize()">getMaxPoolSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the maximum pool size for connection pools that are managed
 by this connection pool manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#removeConnection(java.lang.String, java.sql.Connection)">removeConnection</A></B>(java.lang.String&nbsp;poolKey,
                 java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a pooled connection from a connection pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnection(java.lang.String, java.sql.Connection)">returnConnection</A></B>(java.lang.String&nbsp;poolKey,
                 java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>This method has been replaced with
 <A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnection(java.lang.String, java.sql.Connection, java.util.Properties)"><CODE>returnConnection(String, Connection, Properties)</CODE></A>.  This was
 necessary to provide applications with additional information about
 the transaction which is returning the connection.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnection(java.lang.String, java.sql.Connection, java.util.Properties)">returnConnection</A></B>(java.lang.String&nbsp;poolKey,
                 java.sql.Connection&nbsp;connection,
                 java.util.Properties&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a pooled connection to a connection pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnectionForInternalUse(java.lang.String, java.sql.Connection, java.util.Properties)">returnConnectionForInternalUse</A></B>(java.lang.String&nbsp;poolKey,
                               java.sql.Connection&nbsp;connection,
                               java.util.Properties&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a pooled connection to a connection pool.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getConnection(java.lang.String, java.lang.String, java.util.Properties, java.lang.String, java.lang.String)"><!-- --></A><H3>
getConnection</H3>
<PRE>
java.sql.Connection <B>getConnection</B>(java.lang.String&nbsp;connectionPoolKey,
                                  java.lang.String&nbsp;url,
                                  java.util.Properties&nbsp;info,
                                  java.lang.String&nbsp;user,
                                  java.lang.String&nbsp;password)</PRE>
<DL>
<DD>Returns a pooled connection from the specified target pool.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connectionPoolKey</CODE> - a unique identifier for the target connection pool.<DD><CODE>url</CODE> - the JDBC url that will be used to create connections in this pool.<DD><CODE>info</CODE> - the JDBC properties that will be used to create connections
    in this pool.<DD><CODE>user</CODE> - the username that will be used for database authentication.<DD><CODE>password</CODE> - the password that will be used for database authentication.<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionForInternalUse(java.lang.String, java.lang.String, java.util.Properties, java.lang.String, java.lang.String)"><!-- --></A><H3>
getConnectionForInternalUse</H3>
<PRE>
java.sql.Connection <B>getConnectionForInternalUse</B>(java.lang.String&nbsp;connectionPoolKey,
                                                java.lang.String&nbsp;url,
                                                java.util.Properties&nbsp;info,
                                                java.lang.String&nbsp;user,
                                                java.lang.String&nbsp;password)</PRE>
<DL>
<DD>Returns a pooled connection from the specified target pool.  This method
 is invoked when the BC4J framework requires a JDBC connection instance for
 internal use.  The method is provided for applications with special
 handling requirements for internal connections.  Internal connections may
 be required by BC4J to support the failover and spill to disk features of
 the BC4J framework.  Most applications may delegate the implementation of
 this method to
 <A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#getConnection(java.lang.String, java.lang.String, java.util.Properties, java.lang.String, java.lang.String)"><CODE>getConnection(String, String, Properties, String, String)</CODE></A>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connectionPoolKey</CODE> - a unique identifier for the target connection 
    pool.<DD><CODE>url</CODE> - the JDBC url that will be used to create connections in this 
    pool.<DD><CODE>info</CODE> - the JDBC properties that will be used to create connections
    in this pool.<DD><CODE>user</CODE> - the username that will be used for database authentication.<DD><CODE>password</CODE> - the password that will be used for database 
    authentication.<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="returnConnection(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
returnConnection</H3>
<PRE>
void <B>returnConnection</B>(java.lang.String&nbsp;poolKey,
                      java.sql.Connection&nbsp;connection)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>This method has been replaced with
 <A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnection(java.lang.String, java.sql.Connection, java.util.Properties)"><CODE>returnConnection(String, Connection, Properties)</CODE></A>.  This was
 necessary to provide applications with additional information about
 the transaction which is returning the connection.</I>
<P>
<DD>Returns a pooled connection to a connection pool.  The <tt>poolKey</tt> is used by
 the connection pool manager to identify the target connection pool.
 <p>
 The implementation of this operation should ensure that the returned
 connection does in fact belong to the specified connection pool.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>poolKey</CODE> - a unique identifier for the target connection pool.<DD><CODE>connection</CODE> - the connection that should be checked in.<DT><B>Since:</B></DT>
  <DD>5.0</DD>
<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="returnConnection(java.lang.String, java.sql.Connection, java.util.Properties)"><!-- --></A><H3>
returnConnection</H3>
<PRE>
void <B>returnConnection</B>(java.lang.String&nbsp;poolKey,
                      java.sql.Connection&nbsp;connection,
                      java.util.Properties&nbsp;info)</PRE>
<DL>
<DD>Returns a pooled connection to a connection pool.  The <tt>poolKey</tt> is used by
 the connection pool manager to identify the target connection pool.
 <p>
 The implementation of this operation should ensure that the returned
 connection does in fact belong to the specified connection pool.
 <p>
 The properties object that is passed to return connection may be
 used by custom connection pool managers that require the original JDBC
 context to return the connection to the appropriate pool.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>poolKey</CODE> - a unique identifier for the target connection pool.<DD><CODE>connection</CODE> - the connection that should be checked in.<DD><CODE>info</CODE> - the JDBC context that was used when the connection was
    acquired.<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="returnConnectionForInternalUse(java.lang.String, java.sql.Connection, java.util.Properties)"><!-- --></A><H3>
returnConnectionForInternalUse</H3>
<PRE>
void <B>returnConnectionForInternalUse</B>(java.lang.String&nbsp;poolKey,
                                    java.sql.Connection&nbsp;connection,
                                    java.util.Properties&nbsp;info)</PRE>
<DL>
<DD>Returns a pooled connection to a connection pool.  The <tt>poolKey</tt> 
 is used by the connection pool manager to identify the target connection 
 pool.
 <p>
 The implementation of this operation should ensure that the returned
 connection does in fact belong to the specified connection pool.
 <p>
 The properties object that is passed to return connection may be
 used by custom connection pool managers that require the original JDBC
 context to return the connection to the appropriate pool.
 <p>
 This method is invoked when the BC4J framework is releasing a JDBC
 connection instance which was used internally.  The method is provided for
 applications with special handling requirements for internal connections.
 Internal connections may be required by BC4J to support the failover and
 spill to disk features of the BC4J framework.  Most applications may
 delegate the implementation of this method to
 <A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnection(java.lang.String, java.sql.Connection, java.util.Properties)"><CODE>returnConnection(String, Connection, Properties)</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>poolKey</CODE> - a unique identifier for the target connection pool.<DD><CODE>connection</CODE> - the connection that should be checked in.<DD><CODE>info</CODE> - the JDBC context that was used when the connection was
    acquired.<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="addConnection(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
addConnection</H3>
<PRE>
void <B>addConnection</B>(java.lang.String&nbsp;poolKey,
                   java.sql.Connection&nbsp;connection)</PRE>
<DL>
<DD>Adds a connection to a connection pool.  The <tt>poolKey</tt> is used by the
 connection pool manager to identify the target connection pool.
 <p>
 The implementation of this method should not return the connection to the
 pool after the connection has been added, because the invoking
 object still holds a reference to that connection.  Instead, it is
 recommended that returning the new connection be the responsibility of
 of the object that owns the initial reference to the connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>poolKey</CODE> - a unique identifier for the target connection pool.<DD><CODE>connection</CODE> - the connection that should be checked in.<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#returnConnection(java.lang.String, java.sql.Connection)"><CODE>returnConnection(String, Connection)</CODE></A>, 
<A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="removeConnection(java.lang.String, java.sql.Connection)"><!-- --></A><H3>
removeConnection</H3>
<PRE>
void <B>removeConnection</B>(java.lang.String&nbsp;poolKey,
                      java.sql.Connection&nbsp;connection)</PRE>
<DL>
<DD>Removes a pooled connection from a connection pool.  The <tt>poolKey</tt> is used by
 the connection pool manager to identify the target connection pool.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>poolKey</CODE> - a unique identifier for the target connection pool.<DD><CODE>connection</CODE> - the connection that should be checked in.<DT><B>See Also:</B><DD><A HREF="../../../oracle/jbo/server/ConnectionPoolManager.html#generatePoolKey(java.lang.String, java.util.Properties)"><CODE>generatePoolKey(String, Properties)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="generatePoolKey(java.lang.String, java.util.Properties)"><!-- --></A><H3>
generatePoolKey</H3>
<PRE>
java.lang.String <B>generatePoolKey</B>(java.lang.String&nbsp;url,
                                 java.util.Properties&nbsp;info)</PRE>
<DL>
<DD>Generates a unique pool identifier (<tt>poolKey</tt>) for the specified JDBC URL and
 JDBC driver properties.  The connection pool manager may be responsible
 for managing multiple pool instances for each database instance, user,
 and password combination.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the JDBC url that will be used to create connections in this
    pool.<DD><CODE>info</CODE> - the JDBC properties that will be used to create connections
    in this pool.
<DT><B>Returns:</B><DD>a unique pool identifier as a String.</DL>
</DD>
</DL>
<HR>

<A NAME="generatePoolKey(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
generatePoolKey</H3>
<PRE>
java.lang.String <B>generatePoolKey</B>(java.lang.String&nbsp;url,
                                 java.lang.String&nbsp;user,
                                 java.lang.String&nbsp;password)</PRE>
<DL>
<DD>Generates a unique pool identifier (<tt>poolKey</tt>) for the specified JDBC URL and
 JDBC driver properties.  The connection pool manager may be responsible
 for managing multiple pool instances for each database instance, user,
 and password combination.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the JDBC url that will be used to create connections in this
    pool.<DD><CODE>user</CODE> - the user that will be used for database authentication.<DD><CODE>password</CODE> - the password that will be used for database authentication.
<DT><B>Returns:</B><DD>a unique pool identifier as a String.</DL>
</DD>
</DL>
<HR>

<A NAME="getMaxPoolSize()"><!-- --></A><H3>
getMaxPoolSize</H3>
<PRE>
int <B>getMaxPoolSize</B>()</PRE>
<DL>
<DD>Returns the maximum pool size for connection pools that are managed
 by this connection pool manager. A maximum pool size of 0 is used
 by the database transaction class to indicate that pooling has not been
 enabled.
 <p>
 The MaxPoolSize is typically set as a JVM parameter (for example,
 <tt>java -Djbo.maxpoolsize=10</tt> <em>myApplication</em> note that
 lower case for the JVM parameter is required)
 or in the <tt>jboserver.properties</tt> file (for example,
 <tt>jbo.MaxPoolSize=10</tt> <em>myApplication</em>).
 <p>
 The maximum number of connections supported by a particular driver should
 be documented with the driver. The default MaxPoolSize is set
 high enough so that the driver's maximum number of connections will
 be reached before the default MaxPoolSize is reached.
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the maximum pool size for this connection pool manager's
 connection pools.</DL>
</DD>
</DL>
<HR>

<A NAME="getInitPoolSize()"><!-- --></A><H3>
getInitPoolSize</H3>
<PRE>
int <B>getInitPoolSize</B>()</PRE>
<DL>
<DD>Returns the initial pool size for connection pools that are managed
 by this connection pool manager.
 <p>
 The InitPoolSize is typically set as a JVM parameter (for example,
  <tt>java -Djbo.initpoolsize=2</tt> <em>myApplication</em> note that
 lower case for the JVM parameter is required)
 or in the <tt>jboserver.properties</tt> file (for example,
 <tt>jbo.InitPoolSize=2</tt> <em>myApplication</em>).
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the initial pool size for this connection pool manager's
 connection pools.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Oracle Fusion Middleware Java API Reference for Oracle ADF Model<br>11g Release 1 (11.1.1.9.0)</b><br>E52932-01</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../oracle/jbo/server/ConnectionCredentials.html" title="class in oracle.jbo.server"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../oracle/jbo/server/ConnectionPoolManagerFactory.html" title="class in oracle.jbo.server"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?oracle/jbo/server/ConnectionPoolManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConnectionPoolManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<center>Copyright &copy; 1997, 2015, Oracle. All rights reserved.</center>
</BODY>
</HTML>
